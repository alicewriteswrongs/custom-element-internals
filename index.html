<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Element Internals experimentation</title>

    <script type="module" src="/custom-text-input.js"></script>
  </head>
  <body>
    <h1>Simple text input form</h1>
    <form id="text-input-form" onsubmit>
      <custom-text-input
        id="test-text-input"
        name="text-input"
      ></custom-text-input>
      <div><input type="submit" /></div>
    </form>

    <script>
      // set up loggers for the forms
      // first a little function to log the contents of a form
      function logForm(formEl) {
        const formId = formEl.getAttribute("id");
        const fd = new FormData(formEl);

        console.log(`Values in ${formId}:`);
        for (const [k, v] of fd.entries()) {
          console.log(`  ${k}: ${v}`);
        }
      }

      // then add it to each form's `onsubmit`
      const simpleTextInputForm = document.querySelector("#text-input-form");
      simpleTextInputForm.onsubmit = (e) => {
        e.preventDefault();
        logForm(simpleTextInputForm);
      };
    </script>
  </body>
</html>
